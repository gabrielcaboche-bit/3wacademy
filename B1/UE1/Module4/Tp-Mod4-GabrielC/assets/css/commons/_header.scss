/* Thème — désormais séparé, car la checkbox n'est plus dans le header */
#theme-checkbox {
  display: none;

  &:checked ~ .bg-body header .theme-toggle {
    background: white;
    border: 2px solid black;
  }

  &:checked ~ .bg-body header .theme-toggle .fa-sun {
    opacity: 0;
  }

  &:checked ~ .bg-body header .theme-toggle .fa-moon {
    opacity: 1;
    color: black;
  }
}

header {
  width: 100%;
  background-color: $h-f-bg-color;
  border-bottom: $border;
  position: sticky;
  top: 0;
  z-index: 10;
  margin-bottom: 10px;

  .container {
    display: flex;
    justify-content: space-between;
    align-items: center;

    img {
      width: 100px;
      height: auto;
    }

    .right-side {
      display: flex;
      align-items: center;
      gap: 1rem;

      /* Thème */
      .theme-wrapper {
        display: flex;
        align-items: center;

        /* La checkbox est maintenant *en dehors* du header */
        .theme-toggle {
          position: relative;
          width: 2.5rem;
          height: 2.5rem;
          border-radius: 50%;
          background: black;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: background 0.4s, color 0.4s;

          i {
            color: white;
            font-size: 1.2rem;
            position: absolute;
            transition: opacity 0.3s;
          }

          .fa-moon {
            opacity: 0;
          }
        }
      }

      /* Icône du menu */
      .menu-icon {
        cursor: pointer;
        font-size: 2rem;
        color: var(--txt-color);
        display: block;
        transition: transform 0.3s ease;
        align-content: center;
        @include responsive(laptop){
          display: none;
        }
        .fa-xmark {
          display: none;
        }
      }

      /* Checkbox du menu (toujours dans le header) */
      .nav-toggle {
        display: none;

        &:checked ~ .menu-icon .fa-bars {
          display: none;
        }

        &:checked ~ .menu-icon .fa-xmark {
          display: inline;
        }

        &:checked ~ .main-nav {
          display: flex;
        }
      }

      /* Menu déroulant mobile */
      .main-nav {
        display: none;
        flex-direction: column;
        align-items: center;
        position: absolute;
        background-color: $h-f-bg-color;
        top: 100%;
        left: 0;
        right: 0;
        padding: 2rem 2rem;
        gap: 2rem;
        text-align: center;
        border-top: 1px solid white;
        border-bottom: 1px solid white;
        @include responsive(laptop){
          display: flex !important;
          flex-direction: row;
          position: static;
          background: none;
          gap: 2rem;
          padding: 0;
          align-items: center;
        }

        a {
          color: var(--txt-color);
          text-decoration: none;
          font-size: 1.25rem;
          transition: opacity 0.2s;

          &:hover {
            opacity: 0.7;
          }
        }
      }
    }
  }
}

